:root{--primary: #6366f1;--primary-hover: #4f46e5;--bg: #f8fafc;--card-bg: #ffffff;--text-main: #1e293b;--text-muted: #64748b;--border: #e2e8f0;--success: #10b981;--error: #ef4444;--radius: 12px}body{font-family:Inter,system-ui,-apple-system,sans-serif;background-color:var(--bg);color:var(--text-main);margin:0;min-height:100vh;display:flex;justify-content:center;padding-top:40px}.container{width:100%;max-width:600px;padding:0 1rem 4rem}header{text-align:center;margin-bottom:2rem;position:relative}h1{font-size:1.75rem;font-weight:800;margin:0;background:-webkit-linear-gradient(45deg,#6366f1,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-.5px}.health-pill{display:inline-flex;align-items:center;gap:6px;font-size:.7rem;padding:4px 10px;border-radius:20px;font-weight:600;margin-top:10px}.health-pill.ok{background:#dcfce7;color:#166534}.health-pill.error{background:#fee2e2;color:#991b1b}.health-pill.loading{background:#f1f5f9;color:#64748b}.mode-switcher{background:#e2e8f0;padding:4px;border-radius:12px;display:flex;margin-bottom:1.5rem}.mode-option{flex:1;text-align:center;padding:8px;font-size:.9rem;font-weight:600;color:var(--text-muted);border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s}.mode-option.active{background:#fff;color:var(--primary);box-shadow:0 2px 4px #0000000d}.card{background:var(--card-bg);padding:1.5rem;border-radius:16px;box-shadow:0 10px 25px -5px #0000000d,0 4px 6px -2px #00000003;border:1px solid var(--border);min-height:400px}.upload-box{border:2px dashed var(--border);border-radius:var(--radius);padding:2.5rem 1rem;text-align:center;transition:all .2s;background:#fdfdfd}.upload-box.has-file{border-color:var(--primary);background:#eef2ff;border-style:solid}.upload-box:hover{border-color:var(--primary)}.upload-box label{cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:8px}.empty-icon{color:var(--text-muted);opacity:.5}.empty-text{font-weight:600;color:var(--text-main)}.empty-sub{font-size:.8rem;color:var(--text-muted)}.upload-mini{display:flex;align-items:center;gap:12px;padding-bottom:1rem;border-bottom:1px solid var(--border);margin-bottom:1rem}.upload-mini input,.upload-box input{display:none}.bulk-label{background:#f1f5f9;padding:8px 16px;border-radius:8px;font-size:.85rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background .2s}.bulk-label:hover{background:#e2e8f0}.file-count{font-size:.85rem;color:var(--text-muted)}.ml-auto{margin-left:auto}.primary-btn{width:100%;padding:.85rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.95rem;margin-top:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center;gap:8px;transition:background .2s}.primary-btn:hover{background:var(--primary-hover)}.primary-btn:disabled{opacity:.7;cursor:not-allowed}.view-receipt-btn{background:#fff;border:1px solid #cbd5e1;color:var(--text-muted);padding:6px 12px;border-radius:6px;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:6px;cursor:pointer}.view-receipt-btn:hover{border-color:var(--primary);color:var(--primary)}.icon-btn{background:none;border:none;cursor:pointer;color:var(--text-muted);padding:4px;border-radius:4px}.icon-btn:hover{background:#f1f5f9;color:var(--text-main)}.icon-btn.danger:hover{background:#fee2e2;color:var(--error)}.icon-btn.success{color:var(--success)}.icon-btn.success:hover{background:#dcfce7}.result-container{margin-top:2rem}.grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.stat{background:#f8fafc;padding:1rem;border-radius:12px;text-align:center;display:flex;flex-direction:column}.stat span{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;font-weight:600}.stat strong{font-size:1.25rem;color:var(--text-main);margin-top:4px}.summary-box{background:#eff6ff;padding:1rem;border-radius:8px;font-size:.9rem;line-height:1.6;color:#334155;margin-bottom:1rem}.summary-header{font-weight:600;color:var(--primary);display:flex;align-items:center;gap:6px;margin-bottom:6px}.summary-text{white-space:pre-wrap}.tags-section{margin-bottom:1rem}.tags-header{font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-muted);margin-bottom:6px;display:flex;align-items:center;gap:4px}.tags-list{display:flex;flex-wrap:wrap;gap:6px}.tag{font-size:.7rem;font-weight:700;padding:3px 8px;border-radius:4px}.raw-ocr-details{font-size:.85rem;color:var(--text-muted);cursor:pointer;border-top:1px solid var(--border);padding-top:1rem}.raw-ocr-details summary{font-weight:500;display:flex;align-items:center;gap:4px;list-style:none}.raw-ocr-details summary::-webkit-details-marker{display:none}.raw-ocr-details[open] summary{margin-bottom:10px;color:var(--primary)}.raw-ocr-details pre{background:#1e293b;color:#e2e8f0;padding:10px;border-radius:8px;overflow-x:auto;white-space:pre-wrap;font-size:.75rem;font-family:monospace;max-height:200px;overflow-y:auto}.file-list-scroll{max-height:400px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;padding-right:4px}.file-row.success{border-left:3px solid var(--success)}.file-row.error{border-left:3px solid var(--error)}.file-row.processing{border-left:3px solid var(--primary)}.file-icon{width:36px;height:36px;border-radius:4px;overflow:hidden;background:#f1f5f9;display:flex;justify-content:center;align-items:center;cursor:pointer;color:var(--text-muted)}.file-icon img{width:100%;height:100%;object-fit:cover}.file-details{flex:1;min-width:0}.name{font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status{font-size:.75rem;color:var(--text-muted);margin-top:2px}.txt-success{color:var(--success);font-weight:600}.txt-err{color:var(--error)}.row-actions{display:flex;gap:4px}.empty-bulk{text-align:center;padding:2rem;color:var(--text-muted);font-size:.9rem;border:2px dashed var(--border);border-radius:8px}.progress-section{margin-bottom:1rem;background:#f8fafc;padding:10px;border-radius:8px}.progress-text{display:flex;justify-content:space-between;font-size:.8rem;margin-bottom:6px;font-weight:500}.eta{color:var(--primary);display:flex;align-items:center;gap:4px}.progress-track{height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.progress-fill{height:100%;background:var(--primary);transition:width .5s ease}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;z-index:99;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;animation:fadeIn .2s}.modal-content{position:relative;background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a}.modal-content.image-mode{padding:1rem;max-width:90vw;max-height:90vh}.modal-image{max-width:100%;max-height:80vh;border-radius:4px;display:block}.modal-close-btn{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;cursor:pointer}.modal-content.data-mode{width:100%;max-width:500px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}.modal-header{padding:1rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}.modal-header h3{margin:0;font-size:1.1rem;color:var(--text-main)}.modal-body{padding:0 1.5rem 1.5rem;overflow-y:auto}.modal-body .result-container{margin-top:1rem}.fade-in{animation:fadeIn .3s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.spin{animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.error-msg{color:var(--error);font-size:.85rem;margin-top:1rem;display:flex;align-items:center;gap:6px}.options{margin-top:1rem;display:flex;justify-content:space-between}.checkbox-label{font-size:.85rem;display:flex;align-items:center;gap:6px;cursor:pointer}.ai-toggle-btn{display:flex;align-items:center;gap:8px;cursor:pointer;padding:6px 12px;border-radius:20px;background:#f1f5f9;transition:all .2s;border:1px solid transparent}.ai-toggle-btn:hover{background:#e2e8f0}.ai-toggle-btn.active{background:#eef2ff;border-color:var(--primary);color:var(--primary)}.toggle-track{width:32px;height:18px;background:#cbd5e1;border-radius:9px;position:relative;transition:background .2s}.ai-toggle-btn.active .toggle-track{background:var(--primary)}.toggle-thumb{width:14px;height:14px;background:#fff;border-radius:50%;position:absolute;top:2px;left:2px;transition:transform .2s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 2px #0003}.ai-toggle-btn.active .toggle-thumb{transform:translate(14px)}.toggle-label{font-size:.8rem;font-weight:600;-webkit-user-select:none;user-select:none}.ai-toast{position:fixed;top:20px;left:50%;transform:translate(-50%);background:#1e293b;color:#fff;padding:12px 20px;border-radius:8px;box-shadow:0 10px 15px -3px #0003;display:flex;align-items:center;gap:12px;z-index:2000;font-size:.9rem;pointer-events:none}.file-row{background:#fff;border:1px solid var(--border);padding:8px;border-radius:8px;display:flex;align-items:center;gap:12px;transition:border .2s;position:relative;overflow:hidden}.row-scanner{position:absolute;bottom:0;left:0;width:100%;height:3px;background:transparent}.row-scanner-bar{height:100%;width:30%;background:var(--primary);opacity:.7;animation:scanRow 1.5s infinite linear;border-radius:2px}@keyframes scanRow{0%{transform:translate(-100%)}to{transform:translate(400%)}}.bulk-actions{display:flex;gap:10px;margin-bottom:1rem}.secondary-btn{width:100%;padding:.85rem;background:#fff;color:var(--text-muted);border:1px solid var(--border);border-radius:8px;font-weight:600;font-size:.95rem;margin-top:1rem;cursor:pointer;transition:all .2s}.secondary-btn:hover{background:#f1f5f9;color:var(--text-main);border-color:#cbd5e1}.secondary-btn:disabled{opacity:.5;cursor:not-allowed}.merchant-header{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px dashed #e2e8f0}.merchant-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.05em;color:#64748b;margin-bottom:.25rem}.merchant-name{font-size:1.25rem;font-weight:700;color:#1e293b}.breakdown-section{margin:1.5rem 0;padding:1rem;background:#f8fafc;border-radius:8px}.section-title{font-size:.75rem;font-weight:600;color:#64748b;margin-bottom:.75rem;text-transform:uppercase}.breakdown-list{display:flex;flex-direction:column;gap:.5rem}.breakdown-row{display:flex;justify-content:space-between;font-size:.9rem;color:#475569}.highlight-blue{color:#2563eb;font-weight:500}.highlight-green{color:#16a34a;font-weight:500}.total-main{color:var(--primary);font-size:1.5rem}.modal-content.data-mode{max-width:500px;width:95%;max-height:90vh;overflow-y:auto}.history-list{display:flex;flex-direction:column;gap:10px;margin-top:1rem}.history-item{background:#fff;border:1px solid #e2e8f0;border-radius:12px;transition:all .2s}.history-item.completed:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 12px #0000000d;cursor:pointer}.history-main{display:flex;align-items:center;padding:12px 16px;gap:16px}.history-icon{width:40px;height:40px;background:#f1f5f9;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden}.history-icon img{width:100%;height:100%;object-fit:cover}.history-info{flex:1}.history-merchant{font-weight:600;color:#1e293b;font-size:.95rem}.history-date{font-size:.75rem;color:#64748b}.history-amount{font-weight:700;color:#0f172a}.status-pill{font-size:.7rem;padding:2px 8px;border-radius:99px;text-transform:uppercase;font-weight:700}.status-pill.completed{background:#dcfce7;color:#166534}.status-pill.error{background:#fee2e2;color:#991b1b}.status-pill.pending{background:#fef9c3;color:#854d0e}.history-chevron{color:#cbd5e1}.history-row-actions{display:flex;gap:8px;margin-left:10px;padding-left:10px;border-left:1px solid #e2e8f0}.history-item.error{border-left:4px solid #ef4444;opacity:.8}.history-item.completed{border-left:4px solid #22c55e}.history-icon:hover{cursor:pointer;opacity:.8}
